<html lang="en">
   <head>
      <title>cld web - terminal</title>
      {% include 'html/include/head.html' %}
   </head>
   <script>
      function newtab(util, hostname) {
          var id = idgen();
          $('#hostTab').append('<li class="nav-item" id="' + id + '-li"><a class="nav-link" id="' + id + '-tab" data-toggle="tab" href="#' + id + '" role="tab" aria-controls="' + id + '" aria-selected="false"><button class="closetab" type="button" onclick="document.getElementById(\'' + id + '-li\').remove();document.getElementById(\'' + id + '\').remove();">×</button><button class="refreshtab" type="button" onclick="document.getElementById(\'frame-' + id + '\').src += \'\';document.getElementById(\'fframe-' + id + '\').src += \'\';">⟳</button>' + hostname + '</a></li>');
          $('#hostTabContent').append('<div class="tab-pane fade" id="' + id + '" role="tabpanel" aria-labelledby="' + id + '-tab"></div>');
          document.getElementById(id + "-tab").click();
         sleep(250).then(() => {
          $('#'+id).html('<iframe id="frame-' + id + '" width="800" height="800" style="visibility:visible;height: 70%; width: 100%; resize: both; border: 0px;" src="/tool/' + util + '"></iframe>');
          });
      };
   </script>
   <script type="text/javascript">
      $(document).ready(function() {
          $('[data-toggle=offcanvas]').click(function() {
              $('.row-offcanvas').toggleClass('active');
          });
      });
   </script>
   <body>
      <div class="page-container">
         <!-- top navbar -->
         {% include 'html/include/navbar-term.html' %}
         <div class="container term">
            <div class="row row-offcanvas row-offcanvas-left">
               <!-- sidebar -->
               <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">
                  <input type="text" id="searchInput" onkeyup="search()" placeholder="Search for names.." title="Type in a name">
                  <ul class="nav" id="ServerListUl">
                     <li><a onclick='newtab("bash/", "terminal")' class="nav-link active" id="bash-link" data-toggle="tab" href="#bash">classicdeploy terminal</a></li>
                     {% for cld_dict in cld_instances %}
                     <li><span>group: {{ cld_dict['group'] }}</span></li>
                     {% for cld_instance in cld_dict['clouds'] %}
                     <li><a onclick='newtab("cldx/{{ cld_instance }}", "{{ cld_instance.__str__().split('_')[0] }}")' class="nav-link active" id="{{ cld_instance }}-link" data-toggle="tab" href="#{{ cld_instance }}">{{ cld_instance }}</a></li>
                     {% endfor %}
                     {% endfor %}
                  </ul>
               </div>
               <!-- main area -->
               <div class="col-xs-12 col-sm-9">
                  <ul class="nav nav-tabs" id="hostTab" role="tablist">
                     <li class="nav-item active">
                        <a class="nav-link active" id="first-tab" data-toggle="tab" href="#first" role="tab" aria-controls="first" aria-selected="true" aria-expanded="true">Home</a>
                     </li>
                  </ul>
                  <div class="tab-content" id="hostTabContent">
                     <div class="tab-pane fade active in" id="first" role="tabpanel" aria-labelledby="first-tab">ClassidDeploy access system terminal</div>
                  </div>
               </div>
               <!-- /.col-xs-12 main -->
            </div>
            <!--/.row-->
         </div>
         <!--/.container-->
      </div>
      <!--/.page-container-->
   </body>
</html>